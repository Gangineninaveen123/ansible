# type google in AWS DYNAMIC INVENTORY module in ansible, so we ll get the below all modules
plugin: amazon.aws.aws_ec2  # here plugin, it comes with dependencies downloaded, form ansible boto3 and botocore
regions:
- us-east-1   # our bussiness running region

keyed_groups:   # group name as we have given in inventory file as name of the instance.. like that..
- key: tags.Name # dynamic_frontend
  prefix: "dynamic"
  separator: "_"


filters:  #filtering what we want as frontend or backend or DB
  tag:Name: frontend # filtering with frontend or backend or DB
  instance-state-name : running # it should be running

hostnames:  # getting ip address
  # You can also specify a list in order of precedence for hostname variables.
  - private-ip-address


compose:
  # This sets the `ansible_host` variable to connect with the private IP address without changing the hostname.
  ansible_host: private_ip_address